#summary Advanced Tips
#labels Phase-Implementation

= Advanced Tips =

== Integrating with iAd ==

Integrating with the Apple's iAd requires knowledge of Objective-C and Apples Foundation Framework. For more information about iAd, please refer to the Apple's document. emo uses [http://developer.apple.com/library/ios/#documentation/userexperience/Reference/ADBannerView_Ref/Reference/Reference.html ADBannerView] and your !ApplicationDelegate. Here's some ideas.

  * Add !ADBannerView member to your applicatoin delegate.
{{{
#import <UIKit/UIKit.h>
#import <iAd/iAd.h>

@class EmoViewController;

@interface SuperGameAppDelegate : NSObject <UIApplicationDelegate, ADBannerViewDelegate> {
    UIWindow *window;
    EmoViewController *viewController;
    ADBannerView *adBannerView;
}
// .. snip
}}}

  * Add your ad banner to the !EmoView.
{{{
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];
	
    viewController = [[EmoViewController alloc] init];
    viewController.view = [[EmoView alloc] initWithFrame:[[UIScreen mainScreen] bounds]];
    [viewController awakeFromNib];
	
    [self.window addSubview:self.viewController.view];
    
    [window makeKeyAndVisible];

    [self.viewController onLoad];

   /* 
     iAd banner should be added after viewController.onLoad.
    */
    adBannerView = [[ADBannerView alloc] initWithFrame:CGRectZero];

    // If the orientation is portrait, 
    // set the content size to portrait
    adBannerView.currentContentSizeIdentifier = ADBannerContentSizeIdentifierPortrait;
    // If the orientation is landscape
    // set the content size to landscape
    // adBannerView.currentContentSizeIdentifier = ADBannerContentSizeIdentifierLandscape;

    [self.viewController.view addSubview:adBannerView];
	
    adBannerView.delegate = self;
	
    adBannerView.requiredContentSizeIdentifiers = [NSSet setWithObjects: ADBannerContentSizeIdentifierPortrait, ADBannerContentSizeIdentifierLandscape, nil];
    return YES;
}

/*
 * Called when loading ad banner fails.
 */
- (void)bannerView:(ADBannerView *)banner didFailToReceiveAdWithError:(NSError *)error{
    CGRect rectForHide = self.viewController.view.frame;
    rectForHide.origin.y = self.viewController.view.frame.size.height;
    adBannerView.frame = rectForHide;
}
}}}